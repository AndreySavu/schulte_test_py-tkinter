.open test.db
CREATE TABLE IF NOT EXISTS users (
id INTEGER PRIMARY KEY,
name TEXT NOT NULL UNIQUE,
password TEXT NOT NULL,
age INTEGER,
type INTEGER);

CREATE TABLE IF NOT EXISTS patients (
id INTEGER PRIMARY KEY,
psy_id INTEGER,
f TEXT NOT NULL,
i TEXT NOT NULL,
o TEXT,
age INTEGER,
notes TEXT,
FOREIGN KEY (psy_id) REFERENCES users (id),
CONSTRAINT kk UNIQUE (f,age));

CREATE TABLE user_results (
id INTEGER PRIMARY KEY,
user_id INTEGER,
date_time TEXT NOT NULL,
num INTEGER,
dim INTEGER,
mistakes INTEGER, 
duration INTEGER, 
private INTEGER,
FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE);

CREATE TABLE patient_results (
id INTEGER PRIMARY KEY,
patient_id INTEGER,
date_time TEXT NOT NULL, 
num INTEGER,
dim INTEGER,
mistakes INTEGER, 
duration INTEGER, 
FOREIGN KEY (patient_id) REFERENCES patients(id) ON DELETE CASCADE);

